
  
{%- style -%}
 .section-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top | times: 0.5 | round: 0 }}px;
    padding-bottom: {{ section.settings.padding_bottom | times: 0.5 | round: 0 }}px;
  }
  @media screen and (max-width: 480px) {
    .section-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top | times: 0.25 | round: 0 }}px;
    padding-bottom: {{ section.settings.padding_bottom | times: 0.25 | round: 0 }}px;
    }
  }
  @media screen and (min-width: 1201px) {
    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
    }
  }



#section-{{ section.id }}.image-collection-list-tab.product-tab-wrapper .collection .grid__item {max-width: 100%;width: 100%;display:flex;justify-content:space-between;gap:40px;height:605px;}
 #section-{{ section.id }}.image-collection-list-tab.product-tab-wrapper .collection .image-tabs {
    display: flex;
    flex-wrap: wrap;
    margin-bottom: 0;
    flex-direction:column;
    width:50%;
} 
#section-{{ section.id }}.image-collection-list-tab.product-tab-wrapper .collection .image-tabs .tablinks {
    cursor: pointer;
    margin: 0;
    padding: 44px 0;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    position: relative;
    border-right: none;
    box-shadow: none;
    transition: all .3s linear;
    font-family: var(--font-heading-family);
    font-size: var(--font-h3-size);
  gap:20px;transition:all 0.3s linear;border-bottom: 2px solid rgba(var(--color-button), 0.2);
}  
#section-{{ section.id }}.image-collection-list-tab.product-tab-wrapper .collection .image-tabs .tablinks:hover span,
#section-{{ section.id }}.image-collection-list-tab.product-tab-wrapper .collection .image-tabs .tablinks.active  span{color: rgba(var(--color-base-accent-1));background-image:var(--gradient-secondary-button);}  
  #section-{{ section.id }}.image-collection-list-tab.product-tab-wrapper .collection .tabs_container {
    position: relative;
    width:50%;
}
  #section-{{ section.id }}.image-collection-list-tab.product-tab-wrapper .collection .tabs_container .product-tab-carousel {
    width: 100%;
    transition: all .3s linear;
}
   #section-{{ section.id }}.image-collection-list-tab .tabs_container .product-tab-carousel {
    width: 100%;
    transition: all .3s linear;
}
#section-{{ section.id }}.image-collection-list-tab  .tabs_container .dt-sc-tabs-content-Details:not(.active) {
    opacity: 0;
    pointer-events: none;
    display: none;
}
#section-{{ section.id }}.image-collection-list-tab .row .tabs_container .card .card__content{
    position: absolute;
    bottom: 34px;
    right: 40px;
    width: max-content;
    color: var(--gradient-base-background-2);
    text-transform: uppercase;padding:0;
}
#section-{{ section.id }}.image-collection-list-tab .row .card .card__content .collection_product_count{margin:0;display:none;}
#section-{{ section.id }}.image-collection-list-tab.product-tab-wrapper .collection .image-tabs .tablinks  .tab-count{    
    position: relative;
    top: -12px;
    font-size: 60px;
    right: -10px;
    font-family: var(--font-additional-family);}
#section-{{ section.id }}.image-collection-list-tab.product-tab-wrapper .collection .image-tabs .image-block-sub-heading,
#section-{{ section.id }}.image-collection-list-tab.product-tab-wrapper .collection .image-tabs  .image-block-main-heading{margin:0;}
#section-{{ section.id }}.image-collection-list-tab.product-tab-wrapper .collection .image-tabs  .image-block-heading-description{margin:0 0 60px;max-width: 575px;color: var(--gradient-base-accent-2);}
#section-{{ section.id }}.image-collection-list-tab .row .tabs_container .card .card__inner,
#section-{{ section.id }}.image-collection-list-tab .row .tabs_container  .product-tab-carousel,
#section-{{ section.id }}.image-collection-list-tab .row .tabs_container  .collection-list{height:100%;} 
#section-{{ section.id }}.image-collection-list-tab.product-tab-wrapper .collection .image-tabs .link{ width: max-content;text-transform: uppercase;font-weight: 700;position:relative;font-family: var(--font-heading-family);line-height:normal;}
/* #section-{{ section.id }}.image-collection-list-tab.product-tab-wrapper .collection .image-tabs .link:after{content:'';width:100%;} */
.image-collection-list-tab.product-tab-wrapper .card .card__inner .card__media{border-radius:0;position:relative;width:100%;}
 
#section-{{ section.id }}.image-collection-list-tab.product-tab-wrapper .collection .image-tabs .tablinks:first-child{border-top: 2px solid rgba(var(--color-button), 0.2);}
#section-{{ section.id }}.image-collection-list-tab.product-tab-wrapper .collection .image-tabs .tablinks span{
text-decoration: none;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-image: var(--heading-color);-webkit-box-decoration-break: clone;
    transition:all 0.3s linear;
}

.image-collection-list-tab.product-tab-wrapper .collection .image-tabs .tablinks:after{
    content: "";
    position: absolute;
    top: -2px;
    width: 100%;
    height: 2px;
    left: 0;
    background:  var(--border-gradient) ;
    opacity: 0;}
 .image-collection-list-tab.product-tab-wrapper .collection .image-tabs .tablinks.active:after {opacity: 1;} 
  #section-{{ section.id }}.image-collection-list-tab.product-tab-wrapper .collection .image-tabs .tablinks.active{ border-bottom: 2px solid rgba(var(--color-button), 0.5);}
  #section-{{ section.id }}.image-collection-list-tab .title-wrapper-with-link.content-align--center .description { max-width: 605px;margin: auto;}
  .image-collection-list-tab.product-tab-wrapper .collection .image-tabs .tablinks svg{margin-left:auto;transition:all 0.3s linear;}
   .image-collection-list-tab.product-tab-wrapper .collection .image-tabs .tablinks:hover svg{transform:translateX(-20px);-webkit-transform:translateX(-20px)}
  @media screen and (max-width: 1800px) {
   
   #section-{{ section.id }}.image-collection-list-tab.product-tab-wrapper .collection .image-tabs .tablinks  .tab-count{ font-size:4rem;}
 }
 
 @media screen and (max-width: 1199px) {

   #section-{{ section.id }}.image-collection-list-tab.product-tab-wrapper .collection .image-tabs  .image-block-heading-description{margin:0 0 30px;}
   #section-{{ section.id }}.image-collection-list-tab.product-tab-wrapper .collection .image-tabs .tablinks  .tab-count{ font-size:2rem;top:0;}
 } 
 @media screen and (max-width: 990px) {

    #section-{{ section.id }}.image-collection-list-tab.product-tab-wrapper .collection .image-tabs {padding-top:0; padding-bottom:0;}
 }
@media screen and (max-width: 780px) {
    #section-{{ section.id }}.image-collection-list-tab.product-tab-wrapper .collection .image-tabs { width:100%;}
    #section-{{ section.id }}.image-collection-list-tab.product-tab-wrapper .collection .tabs_container { width:100%;margin-bottom:50px;}
    #section-{{ section.id }}.image-collection-list-tab.product-tab-wrapper .collection .grid__item{ flex-direction: column;row-gap:0;height:100%;}
    #section-{{ section.id }}.image-collection-list-tab.product-tab-wrapper .collection .image-tabs .tablinks{padding:30px 0;font-size: calc(var(--font-h3-size) * 0.8);}
}
@media screen and (max-width: 450px) {
 
  #section-{{ section.id }}.image-collection-list-tab .row .tabs_container .card .card__content{ bottom: 20px;right: 20px;}
}
{%- endstyle -%}


{% liquid
        case section.settings.products_per_row
        when 1
        assign column = 'one-column'
        when 2
        assign column = 'two-column'
        when 3
        assign column = 'three-column'
        when 4
        assign column = 'four-column'
        when 5
        assign column = 'five-column'
        when 6
        assign column = 'six-column'
        endcase
        %}
  
<div id="section-{{ section.id }}" class="image-collection-list-tab product-tab-wrapper {{ section.settings.custom_class_name }} ">
  <div class="{% if section.settings.page_full_width %} page-full-width {% else %} page-width {% endif %} {% if section.settings.page_full_width_spacing %} page-full-width_spacing {% endif %}section-{{ section.id }}-padding isolate">
    <div class="row color-{{ section.settings.color_scheme }} gradient">
  <div class="collection">
     {%- unless section.settings.title == blank -%}
      <div class="title-wrapper-with-link title-wrapper--self-padded-mobile title-wrapper--no-top-margin content-align--{{ section.settings.column_alignment }}">
         {%- if section.settings.sub_heading != blank -%}  
         <h6 class="sub-heading">{{ section.settings.sub_heading | escape }}</h6>
         {%- endif -%} 
         {%- if section.settings.title != blank -%}  
          <h2 class="title {{ section.settings.heading_size }}">
            {{ section.settings.title | escape }}
          </h2>
          {%- endif -%} 
          {%- if section.settings.description != blank -%}  
          <p class="description">{{ section.settings.description }}</p>
          {%- endif -%}   
          {%- if section.settings.button_label != blank -%}
            <a {% if section.settings.button_link == blank %} role="link" aria-disabled="true"{% else %} href="{{ section.settings.button_link }}"{% endif %} class="button{% if section.settings.button_style_secondary %} button--secondary{% else %} button--primary{% endif %}">{{ section.settings.button_label | escape }}</a>
          {%- endif -%}
          </div>
    {%- endunless -%}
    <div class="image-with-text__grid grid">
    
      <div class="grid__item image-tab-{{ section.id }}-js" id="image-tab-{{ section.id }}-js" data-tab-wrapper="tab-main-{{ section.id }}">
         <div class="tabs_container">
         
          {% for block in section.blocks %}
          <div class="slider-mobile-gutter product-tab-carousel dt-sc-tabs-content-Details"  data-tab="dT_tab-{{ block.id }}" id="block-tab-{{ forloop.index }}">
          <div class="collection-list  collection-list--{{ section.blocks.size }}-items">
         {%- assign placeholder_image_index = forloop.index0 | modulo: 4 | plus: 1 -%}             
          {%- assign placeholder_image = 'collection-apparel-' | append: placeholder_image_index -%}
          {% render 'image-tab-card-collection', card_collection: block.settings.collection, media_aspect_ratio: section.settings.image_ratio, columns: columns, placeholder_image: placeholder_image %}
         
         </div>
          </div>
            {% endfor %}
        </div>  
        <div class="image-tabs  {{ section.settings.tab_alignment }}">
          {% for block in section.blocks %}    
          {% assign collection = block.settings.collection %}
          <div class="tablinks"  id="dT_tab-{{ block.id }}">
             {%- if block.settings.collection_image != blank and section.settings.enable_collection_icon != blank -%}
          <img srcset="{%- if block.settings.collection_image.width >= 165 -%}{{ block.settings.collection_image | image_url: width: 165 }} 165w,{%- endif -%}
                       {%- if block.settings.collection_image.width >= 360 -%}{{ block.settings.collection_image | image_url: width: 360 }} 360w,{%- endif -%}
                       {%- if block.settings.collection_image.width >= 620 -%}{{ block.settings.collection_image | image_url: width: 620 }} 620w,{%- endif -%}
                       {%- if block.settings.collection_image.width >= 720 -%}{{ block.settings.collection_image | image_url: width: 720 }} 720w,{%- endif -%}
                       {%- if block.settings.collection_image.width >= 940 -%}{{ block.settings.collection_image | image_url: width: 940 }} 940w,{%- endif -%}
                       {%- if block.settings.collection_image.width >= 1070 -%}{{ block.settings.collection_image | image_url: width:  1070 }} 1070w{%- endif -%}"
               src="{{ block.settings.collection_image | image_url: width: 533 }}"
               sizes="(min-width: 1100px) 900px, (min-width: 750px) calc((100vw - 130px) / 2), calc((200vw - 50px) / 2)"
               alt="{{ block.settings.collection_image.alt | escape }}"
               loading="lazy"
               width="{{ block.settings.collection_image.width }}" height="{{ block.settings.collection_image.height }}"
               >
          {%- endif -%}
            {%- if section.settings.enable_tab_title != blank -%}
            <span>{% unless block.settings.title == blank %} {{ block.settings.title }} {% else %} {{collection.title }}{% endunless %}</span>
              {% render 'collapsible-icon-caret' %}
            {%- endif -%} 
            {%- if section.settings.enable_tab_count  -%}
           <span class="tab-count">{{ collection.all_products_count }}</span>  
              {% endif %}
          </div>   
          {% endfor %}
        </div>
          
    </div>
   </div> 
      {%- if section.settings.show_view_all  -%}
      <div class="center collection__view-all">
        <a href="{{ routes.all_products_collection_url }}"
          class="button button--primary"
          aria-label="{{ 'sections.featured_collection.view_all_label' | t: collection_name: section.settings.collection.title }}"
        >
          {{ 'sections.featured_collection.view_all' | t }}
        </a>
      </div>
    {%- endif -%}
</div>
</div>
</div>
{%- style -%}

/*   {% if section.settings.enable_collection_icon %}  
  {% for block in section.blocks %}    
  {% unless block.settings.collection_image == blank %}
  .product-tab-wrapper .tabs .tablinks[id*="dT_tab-{{ forloop.index }}"]:before { mask-image: url('{{ block.settings.collection_image | image_url: width: 40 }}'); -webkit-mask-image: url('{{ block.settings.collection_image | image_url: width: 40 }}');  }
  .tabs .tablinks:before {
    content: ""; display: block; position: relative; background: currentcolor; width:40px; height:40px; margin-right: 12px;
    mask-repeat: no-repeat; -webkit-mask-repeat: no-repeat; mask-position: center left; -webkit-mask-position: center;
    mask-size: contain; -webkit-mask-size: contain; }
{% endunless %}
  {% endfor %}
  {% endif %} */
 @media screen and (max-width: 576px) {  
.product-tab-wrapper .tabs_container {    width: 100%;     overflow: hidden;}
 }
 {%- endstyle -%}  
      <script type="text/javascript">  
      dtTabEvents(); 
  function dtTabEvents() {
  $('.image-tab-{{ section.id }}-js').each(function(){
    $(this).find('.dt-sc-tabs-content-Details:first').addClass('active');
  $(this).find('.tablinks:first').addClass('active');
  });

  $('.image-tab-{{ section.id }}-js .tablinks').each(function(){
    $(this).on('click', function(){
          $(".image-tabs").toggleClass('expanded');
    var $this = $(this);
    var $theTab = $(this).attr('id');  
    $(this).fadeIn('slow').siblings(".dt-sc-tabs-content-Details").hide();
    if($this.hasClass('active')){
      // do nothing
      
    } 
    
    else {
     $this.closest('.image-tab-{{ section.id }}-js').find('.image-tabs .tablinks, .tabs_container .dt-sc-tabs-content-Details').removeClass('active'); $('.tablinks[id="'+$theTab+'"]').addClass('active');
     $('.image-tab-{{ section.id }}-js .tabs_container .dt-sc-tabs-content-Details[data-tab="'+$theTab+'"], .image-tab-{{ section.id }}-js .image-tabs .tablinks[id="'+$theTab+'"]').addClass('active');
       }
     });
    });
       $(document).click(function(event) {
    if (!$(event.target).closest(".tabs_container").length) {
      $("body").find(".grid-tabs").removeClass("expanded");
    }
  });
        }

   
   
document.addEventListener("shopify:section:load", function(e) {
  if (document.getElementById(`shopify-section-${e.detail.sectionId}`).classList.contains('product-tab-with-carousel')) {
    dtTabEvents(); 
    console.log(document.getElementById(`shopify-section-${e.detail.sectionId}`));
  }
   
});     
document.addEventListener('shopify:block:select', function (event) {
  dtTabEvents();
  const blockSelectedIsSlide = event.target.classList.contains('tablinks');
  console.log(blockSelectedIsSlide);
  if (!blockSelectedIsSlide) return;
});

document.addEventListener('shopify:block:deselect', function (event) {
  const blockDeselectedIsSlide = event.target.classList.contains('tablinks');
  if (!blockDeselectedIsSlide) return;  
  dtTabEvents();
});
        
</script>
{% schema %}
{
  "name": "Image Collection List",
  "class": "section product-tab-with-carousel",
  "tag": "section",
  "settings": [
    {
      "type":"checkbox",
      "id":"page_full_width",
       "default": false,
      "label": "t:sections.all.page_full_width.label"
    },
    {
      "type":"checkbox",
      "id":"page_full_width_spacing",
       "default": false,
      "label": "t:sections.all.page_full_width_spacing.label"
    },
      {
      "type": "text",
      "id": "title",
      "default": "Image Collection List",
      "label": "t:sections.all.title.label"
    },
    {
      "type": "select",
      "id": "heading_size",
      "options": [
        {
          "value": "h3",
          "label": "t:sections.all.heading_size.options__1.label"
        },
        {
          "value": "h2",
          "label": "t:sections.all.heading_size.options__2.label"
        },
        {
          "value": "h1",
          "label": "t:sections.all.heading_size.options__3.label"
        }
      ],
      "default": "h1",
      "label": "t:sections.all.heading_size.label"
    },
    {
      "type": "text",
      "id": "sub_heading",
      "default":"Sub Heading",
      "label": "t:sections.all.sub_heading.label"
    },
     {
      "type": "text",
      "id": "description",
      "default":"Use this text to share the information which you like!.",
      "label": "t:sections.all.description.label"
    },
    {
      "type": "text",
      "id": "button_label",
      "default": "Button label",
      "label": "t:sections.all.button_label.label"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "t:sections.all.button_link.label"
    },
    {
      "type": "checkbox",
      "id": "button_style_secondary",
      "default": false,
      "label": "t:sections.all.button_style_secondary.label"
      },
    {
      "type": "select",
      "id": "column_alignment",
      "options": [
        {
          "value": "left",
          "label": "t:sections.product-tab.settings.column_alignment.options__1.label"
        },
        {
          "value": "center",
          "label": "t:sections.product-tab.settings.column_alignment.options__2.label"
        }
      ],
      "default": "center",
      "label": "t:sections.product-tab.settings.column_alignment.label"
    },
   {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "t:sections.all.colors.label",
      "default": "scheme-1"
    },
    {
    "type": "checkbox",
    "id": "enable_tab_title",
    "default": true,
    "label": "t:sections.product-tab.settings.enable_tab_title.label"
    },
    {
      "type": "header",
      "content": "t:sections.all.padding.section_padding_heading"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 150,
      "step": 5,
      "unit": "px",
      "label": "t:sections.all.padding.padding_top",
      "default": 35
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 150,
      "step": 5,
      "unit": "px",
      "label": "t:sections.all.padding.padding_bottom",
      "default": 35
    },
    {
    "type": "header",
    "content": "t:sections.all.custom_class_heading.content"
    },
    {
    "type": "text",
    "id": "custom_class_name",
    "label": "t:sections.all.custom_class_name.label"
    }
  ],
  "blocks": [
    {
    "type": "tab",
    "name": "t:sections.product-tab.blocks.tab.name",
    "settings": [ 
    {
          "type": "collection",
          "id": "collection",
          "label": "t:sections.collection-list.blocks.featured_collection.settings.collection.label"
    },
    {
    "type": "text",
    "id": "title",
    "default": "Collection name",
    "label": "t:sections.product-tab.blocks.tab.settings.title.label"    
    }  
    ]
    }
    ],
  "presets": [
    {
      "name": "Image Collection List",
       "blocks": [
        {
          "type": "tab"
        },
        {
          "type": "tab"
        },
        {
          "type": "tab"
        }
 ] 
    }
  ]
}
{% endschema %}  
  